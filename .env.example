# -----------------------------------------------------------------------------
# Environment template for p2einferno-app
# Copy this file to `.env.local` (and/or `.env`) and fill in the values below.
# Secrets in this template are intentionally blank; obtain them from your team.
# -----------------------------------------------------------------------------

# App public url eg localhost:3000 for development, <mywebsite.com> for production
NEXT_PUBLIC_APP_URL=
# Core runtime configuration
NODE_ENV=development

# Privy authentication (required)
NEXT_PUBLIC_PRIVY_APP_ID=
NEXT_PUBLIC_PRIVY_CLIENT_ID=
NEXT_PRIVY_APP_SECRET=
NEXT_PRIVY_VERIFICATION_KEY=
PRIVY_VERIFICATION_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
PRIVY_JWKS_ENDPOINT=

# Privy session signers (optional)
NEXT_PUBLIC_SESSION_SIGNER_ID=
SESSION_SIGNER_SECRET=

# Supabase configuration
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=
NEXT_SUPABASE_SERVICE_ROLE_KEY=
# Optional: remote Supabase management
SUPABASE_URL=https://<your-project-ref>.supabase.co
SUPABASE_ACCESS_TOKEN=

# Payments
NEXT_PUBLIC_PAYSTACK_PUBLIC_KEY=
PAYSTACK_SECRET_KEY=

# Mailgun Configuration
MAILGUN_DOMAIN=
MAILGUN_API_KEY=
MAILGUN_FROM=
MAILGUN_API_URL=https://api.mailgun.net
MAILGUN_TEST_MODE=false
# Optional: Override admin review notification email (defaults to info@p2einferno.com)
ADMIN_REVIEW_EMAIL=info@p2einferno.com

# Unlock / blockchain configuration
# Private key used server-side for Unlock lock management scripts (never commit real value).
LOCK_MANAGER_PRIVATE_KEY=
# Default on-chain network the admin UI should target (e.g. base, base-sepolia).
NEXT_PUBLIC_BLOCKCHAIN_NETWORK=base-sepolia
# Unlock lock address that gates admin access; must match the contract deployed on the chosen network.
NEXT_PUBLIC_ADMIN_LOCK_ADDRESS=
# Comma-separated wallets treated as admins in development when no lock is configured.
DEV_ADMIN_ADDRESSES=0x1234...,0xABCD...

# Bootcamp Certificates Feature
# Enable to allow certificate claim endpoints and UI
BOOTCAMP_CERTIFICATES_ENABLED=false
# Deployed EAS schema UID for Bootcamp Completion V2 (optional; client will fallback)
BOOTCAMP_COMPLETION_SCHEMA_UID=

# Milestone Key Tracking Feature
# Enable to track milestone key claims and use key-based completion flow
MILESTONE_KEY_TRACKING_ENABLED=false

# Certificate Claim Rate Limits
# Per-user per-cohort limit (attempts per minute)
CLAIM_RATE_LIMIT_PER_USER=3
# Global hourly limit (all claims); set 0 to disable
CLAIM_RATE_LIMIT_GLOBAL_HOURLY=0

# RPC providers (configure whichever you use)
# API keys and explicit RPC URLs used to build the unified fallback client for Unlock + on-chain checks.
NEXT_PUBLIC_ALCHEMY_API_KEY=
NEXT_PUBLIC_INFURA_API_KEY=
NEXT_PUBLIC_INFURA_BASE_MAINNET_RPC_URL=
NEXT_PUBLIC_INFURA_BASE_SEPOLIA_RPC_URL=
NEXT_PUBLIC_BASE_MAINNET_RPC_URL=
NEXT_PUBLIC_BASE_SEPOLIA_RPC_URL=
NEXT_PUBLIC_USDC_ADDRESS_BASE_SEPOLIA=
NEXT_PUBLIC_USDC_ADDRESS_BASE_MAINNET=

# Admin session / API behaviour
# Client-side cache for admin key checks (ms) before re-hitting the chain.
NEXT_PUBLIC_AUTH_CACHE_DURATION=120000
# Delay between automatic retry attempts when key checks fail (ms).
NEXT_PUBLIC_ERROR_RETRY_DELAY=5000
# Lifetime of the server-issued `admin-session` cookie in seconds.
ADMIN_SESSION_TTL_SECONDS=180
# Secret used to sign admin-session JWTs (HS256); supply a strong random value.
ADMIN_SESSION_JWT_SECRET=
# Flip to `true` to enforce the Admin session middleware locally (mirrors production behavior).
ADMIN_SESSION_ENABLED=false
# Rate limit for session minting per DID/IP to avoid brute force.
ADMIN_SESSION_RATE_LIMIT_PER_MINUTE=30
# Maximum items an admin API list endpoint will return.
ADMIN_MAX_PAGE_SIZE=200
# Timeout for on-chain admin key checks before aborting (ms).
ADMIN_RPC_TIMEOUT_MS=10000
# How long to wait for the primary RPC before trying fallbacks (ms).
ADMIN_RPC_FALLBACK_STALL_MS=1200
# Number of fallback RPC retries before failing.
ADMIN_RPC_FALLBACK_RETRY_COUNT=1
# Delay between fallback retries (ms).
ADMIN_RPC_FALLBACK_RETRY_DELAY_MS=250
# Disable RPC warm-up in development (set to 1 to skip eager connections).
ADMIN_RPC_WARMUP_DISABLED=0

# Logging
# Server log verbosity (`debug`, `info`, `warn`, `error`, `silent`).
LOG_LEVEL=info
# Client-side log level; leave empty in production to avoid noisy bundles.
NEXT_PUBLIC_LOG_LEVEL=
# Local development helpers
DB_PASSWORD=

NEXT_PUBLIC_DG_WITHDRAWAL_MIN_AMOUNT=3000
NEXT_PUBLIC_DG_WITHDRAWAL_MAX_DAILY_AMOUNT=100000

# UP token address on Base mainnet
NEXT_PUBLIC_UP_TOKEN_ADDRESS_BASE_MAINNET="0xaC27fa800955849d6D17cC8952Ba9dD6EAA66187"

# DG token address on Base mainnet
NEXT_PUBLIC_DG_TOKEN_ADDRESS_BASE_MAINNET=

# DG token address on Base Sepolia testnet (optional, for testing)
NEXT_PUBLIC_DG_TOKEN_ADDRESS_BASE_SEPOLIA=

# DG Nation NFT lock address for withdrawal access control
NEXT_PUBLIC_DG_NATION_LOCK_ADDRESS=

# Signature expiry time in seconds (optional, defaults to 900 = 15 minutes)
DG_WITHDRAWAL_SIGNATURE_DEADLINE_SECONDS=900

# EAS Attestation (Ethereum Attestation Service)
# Toggle on-chain attestation creation. When false, the app saves check-ins
# in user_activities table only (suitable for local/dev without deploying schemas).
NEXT_PUBLIC_ENABLE_EAS=false

# Schema UIDs to use when NEXT_PUBLIC_ENABLE_EAS=true. These must be 32-byte hex
# values (0x followed by 64 hex chars). Only required when EAS is enabled.
# When EAS is disabled, check-ins work without any schema UID configuration.
NEXT_PUBLIC_DAILY_CHECKIN_SCHEMA_UID=
NEXT_PUBLIC_QUEST_COMPLETION_SCHEMA_UID=
NEXT_PUBLIC_MILESTONE_ACHIEVEMENT_SCHEMA_UID=
NEXT_PUBLIC_BOOTCAMP_COMPLETION_SCHEMA_UID=

NEXT_PUBLIC_DG_VENDOR_ADDRESS=0x45adA67dc9a5fb49c5f1A88f0ff83fb0550b3A82 # BaseSepolia Address
# NEXT_PUBLIC_DG_VENDOR_ADDRESS=0x24DD71aDd0026E924e0Fc7a7701A851e2b9c09C4 # BaseMainnet Address

# GoodDollar Face Verification / Sybil Resistance
# Environment for GoodDollar SDK (production, staging, or development)
NEXT_PUBLIC_GOODDOLLAR_ENV=staging

TELEGRAM_BOT_TOKEN=<token-from-botfather>
TELEGRAM_WEBHOOK_SECRET=<any-random-string-you-choose>
NEXT_PUBLIC_TELEGRAM_BOT_USERNAME=<bot-username-without-@>
# Optional: Admin Telegram chat ID for task submission notifications (user ID or group chat ID)
ADMIN_TELEGRAM_CHAT_ID=

# === Uniswap Integration ===

# Address that receives the frontend fee on swaps (use a Gnosis Safe or multisig)
NEXT_PUBLIC_UNISWAP_FEE_WALLET=0xYourFeeWalletAddressHere

# Optional: Override fee basis points (default: 25 = 0.25%)
# NEXT_PUBLIC_UNISWAP_FEE_BIPS=25

# Meta integration
# Meta app secret for data deletion flow
META_APP_SECRET=your_meta_app_secret_here

# Meta WhatsApp webhook gateway
# Verify token used during Meta webhook challenge handshake (GET).
META_WEBHOOK_VERIFY_TOKEN=
# Default destination URL to receive forwarded webhook payloads.
WHATSAPP_FORWARD_DESTINATION_URL=
# Friendly destination name attached as `x-destination-name`.
WHATSAPP_FORWARD_DESTINATION_NAME=default
# Forward timeout in milliseconds before failing and returning non-200 to Meta.
WHATSAPP_FORWARD_TIMEOUT_MS=3000
# Internal shared secret passed as `x-gateway-secret` to destination services.
WHATSAPP_GATEWAY_SHARED_SECRET=
# Optional field-to-destination map for routing.
# Example:
# WHATSAPP_FORWARD_ROUTE_MAP='{"messages":[{"name":"agent","url":"https://example.com/inbox","secret":"shared"}],"message_template_status_update":[{"name":"ops","url":"https://example.com/status","secret":"shared"}]}'
WHATSAPP_FORWARD_ROUTE_MAP=
# Optional bearer token required by /api/webhooks/meta/whatsapp/health
WEBHOOK_HEALTH_TOKEN=

# OpenRouter AI (server-only, required for AI-powered features)
# Get your key at https://openrouter.ai/keys
OPENROUTER_API_KEY=
# Optional: default model (default: google/gemini-2.0-flash-001)
# OPENROUTER_DEFAULT_MODEL=google/gemini-2.0-flash-001

# -----------------------------------------------------------------------------
# Add any other project-specific env vars below (keep placeholders only).
# -----------------------------------------------------------------------------
